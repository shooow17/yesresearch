<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>äº”å¹´ç´šä¸­æ–‡è©èªç·´ç¿’ï¼ˆä¸€æ¬¡ä¸€é¡Œï¼‰</title>
  <style>
    :root{
      --bg:#0b1020;
      --card:#121a33;
      --text:#eef2ff;
      --muted:#a9b2d6;
      --ok:#22c55e;
      --bad:#ef4444;
      --accent:#60a5fa;
    }
    *{ box-sizing: border-box; }
    body{
      margin:0;
      min-height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      background: radial-gradient(1200px 800px at 20% 10%, #1b2a6b 0%, var(--bg) 55%, #060816 100%);
      color:var(--text);
      font-family: system-ui, -apple-system, "Noto Sans TC", "Microsoft JhengHei", Arial, sans-serif;

      /* é™åˆ¶åç™½é¸å–ï¼ˆè¼¸å…¥æ¡†æœƒå¦å¤–æ”¾è¡Œï¼‰ */
      -webkit-user-select: none;
      user-select: none;
    }
    .wrap{
      width:min(860px, 92vw);
      padding:22px;
    }
    .card{
      background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
      border:1px solid rgba(255,255,255,.10);
      border-radius:18px;
      padding:22px;
      box-shadow: 0 18px 60px rgba(0,0,0,.35);
      backdrop-filter: blur(8px);
    }
    .top{
      display:flex;
      gap:12px;
      align-items:flex-start;
      justify-content:space-between;
      flex-wrap:wrap;
    }
    .title{
      font-size:18px;
      font-weight:700;
      letter-spacing:.5px;
      margin:0;
    }
    .sub{
      margin-top:6px;
      color:var(--muted);
      font-size:13px;
      line-height:1.5;
    }
    .stats{
      text-align:right;
      color:var(--muted);
      font-size:13px;
      line-height:1.6;
      min-width: 200px;
    }
    .bar{
      height:10px;
      background: rgba(255,255,255,.08);
      border-radius:999px;
      overflow:hidden;
      margin:14px 0 18px;
      border:1px solid rgba(255,255,255,.08);
    }
    .bar > div{
      height:100%;
      width:0%;
      background: linear-gradient(90deg, var(--accent), #a78bfa);
      border-radius:999px;
      transition: width .25s ease;
    }

    .wordBox{
      background: rgba(0,0,0,.28);
      border:1px solid rgba(255,255,255,.10);
      border-radius:16px;
      padding:18px;
      display:flex;
      align-items:center;
      justify-content:center;
      min-height:130px;
      position:relative;
    }
    .word{
      font-size:46px;
      font-weight:900;
      letter-spacing:2px;
      text-align:center;
      line-height:1.2;
      padding:10px 8px;
    }
    .hint{
      position:absolute;
      left:14px;
      top:12px;
      font-size:12px;
      color:rgba(255,255,255,.65);
    }

    .form{
      margin-top:16px;
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      align-items:center;
    }
    input[type="text"]{
      flex: 1 1 360px;
      padding:14px 14px;
      border-radius:14px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.06);
      color: var(--text);
      font-size:18px;
      outline:none;

      /* å…è¨±åœ¨è¼¸å…¥æ¡†å…§é¸å–æ–‡å­— */
      -webkit-user-select: text;
      user-select: text;
    }
    input[type="text"]::placeholder{ color: rgba(255,255,255,.45); }
    button{
      padding:12px 14px;
      border-radius:14px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.08);
      color: var(--text);
      cursor:pointer;
      font-weight:700;
      letter-spacing:.3px;
      transition: transform .05s ease, background .2s ease;
    }
    button:hover{ background: rgba(255,255,255,.12); }
    button:active{ transform: translateY(1px); }
    button.primary{
      background: linear-gradient(90deg, rgba(96,165,250,.95), rgba(167,139,250,.95));
      border-color: rgba(255,255,255,.18);
      color:#0b1020;
    }
    button.primary:hover{ filter: brightness(1.05); }
    button.ghost{
      background: transparent;
    }
    .msg{
      margin-top:10px;
      min-height:22px;
      font-size:14px;
      color: var(--muted);
    }
    .msg.ok{ color: var(--ok); font-weight:800; }
    .msg.bad{ color: var(--bad); font-weight:800; }
    .shake{
      animation: shake .18s linear 0s 2;
    }
    @keyframes shake{
      0%{ transform: translateX(0); }
      25%{ transform: translateX(-6px); }
      50%{ transform: translateX(6px); }
      75%{ transform: translateX(-4px); }
      100%{ transform: translateX(0); }
    }
    .footerRow{
      margin-top:14px;
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      justify-content:space-between;
      align-items:center;
      color: var(--muted);
      font-size:12px;
    }
    .pill{
      display:inline-flex;
      gap:8px;
      align-items:center;
      padding:8px 10px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.06);
    }
    .end{
      margin-top:16px;
      padding:14px;
      border-radius:16px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.25);
      display:none;
    }
    .end h2{
      margin:0 0 8px;
      font-size:18px;
    }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <div class="top">
        <div>
          <p class="title">äº”å¹´ç´šä¸­æ–‡è©èªç·´ç¿’ï¼ˆä¸€æ¬¡ä¸€é¡Œï¼‰</p>
          <div class="sub">
            è¦å‰‡ï¼šæ¯æ¬¡åªçœ‹ 1 å€‹è©èªï¼Œè«‹åœ¨ä¸‹æ–¹è¼¸å…¥åŒä¸€å€‹è©èªã€‚å·²é™åˆ¶è¤‡è£½/è²¼ä¸Š/å³éµã€‚
          </div>
        </div>
        <div class="stats" id="stats">
          é¡Œæ•¸ï¼š<span id="idx">1</span>/<span id="total">100</span><br/>
          æ­£ç¢ºï¼š<span id="correct">0</span>ã€€éŒ¯èª¤ï¼š<span id="wrong">0</span><br/>
          æ­£ç¢ºç‡ï¼š<span id="acc">0%</span>
        </div>
      </div>

      <div class="bar" aria-hidden="true"><div id="barFill"></div></div>

      <div class="wordBox" id="wordBox">
        <div class="hint">è«‹è¼¸å…¥ä¸‹æ–¹çœ‹åˆ°çš„è©èª</div>
        <div class="word" id="word">ï¼ˆæŒ‰é–‹å§‹ï¼‰</div>
      </div>

      <div class="form">
        <input id="answer" type="text" placeholder="åœ¨é€™è£¡è¼¸å…¥è©èªï¼ˆæŒ‰ Enter ä¹Ÿå¯é€å‡ºï¼‰" autocomplete="off" />
        <button class="primary" id="checkBtn">æª¢æŸ¥</button>
        <button class="ghost" id="nextBtn" disabled>ä¸‹ä¸€é¡Œ</button>
        <button class="ghost" id="startBtn">é–‹å§‹/é‡ä¾†</button>
        <button class="ghost" id="fsBtn">å…¨è¢å¹•</button>
      </div>

      <div class="msg" id="msg"></div>

      <div class="end" id="endPanel">
        <h2>å®Œæˆï¼</h2>
        <div id="endText"></div>
      </div>

      <div class="footerRow">
        <div class="pill">æç¤ºï¼šè¼¸å…¥æ™‚ä¸ç”¨ç©ºæ ¼ï¼›è‹¥ä¸å°å¿ƒå¤šæ‰“ç©ºæ ¼æœƒè‡ªå‹•å¿½ç•¥ã€‚</div>
        <div class="pill">æ•™å¸«å°æé†’ï¼šæ­¤é é¢ç‚ºåŸºæœ¬é™åˆ¶ï¼Œä»å¯èƒ½è¢«é€²éšæ–¹å¼ç¹éã€‚</div>
      </div>
    </div>
  </div>

  <script>
    // ====== 100 å€‹è¾­å½™ï¼ˆå–è‡ªé™„ä»¶å‰ 100 å€‹è©èªï¼‰======
    const vocab = [
      "èšŠå¸³","éæ´²","ç˜§ç–¾","é¼“å‹µ","å‹Ÿé›†","æè´ˆ","ç¾©è³£","çç‹€","é›œèªŒ","åŸºé‡‘æœƒ",
      "æ½›åŠ›","ç›´ç¬›","å¹å¥","æ—‹å¾‹","æ¨¹æ¢¢","èµ°å»Š","ç†Ÿæ‚‰","é›¶äº‚","å’Œè«§","éŸ³éš",
      "èŠ±çµ®","æ²’é—œä¿‚","éšŠä¼","å¨åŠ›","æ——å¹Ÿ","è€ƒå·","å®Œç’§æ­¸è¶™","è«¸ä¾¯","å¤§å®˜","å°‡è»",
      "ç¾è¾±","æ‡¦å¼±","ç¾æ¥","æ¬Šå‹¢","æ”»æ‰“","å”åŠ©","åœ‹å›","ç¾æ„§","èŠæ¢","è‚è†½ç›¸ç…§",
      "èœ¿èœ’","å¶™å³‹","æµ©ç€š","æ¾æ¹ƒ","è”šè—","å±éšœ","ä¹¾æ¶¸","é™¡å³­","æ¹æ€¥","é¼é—Š",
      "æ»„æ¡‘","ç›ç„¶","å‡‹é›¶","è’¼ç¿ ","å¹½éœ","ç£…ç¤´","æ¯ç«­","ç’€ç’¨","æ·±é‚ƒ","æ˜ è¥¯",
      "é€£ç¶¿","ç¨€ç–","ç¹èŒ‚","èµ·ä¼","äº¤ç¹”","è¬™éœ","æŠ‘é¬±","å‰›æ¯…","æ†§æ†¬","æ‡Šæ‚”",
      "å¯¬åš","éŸŒæ€§","ä¼ç›¼","ç„¦æ…®","è±é”","èª æ‘¯","é¦è…†","åŸ·è‘—","è¿·æƒ˜","æ†‚æˆš",
      "å¦ç„¶","æ¿€æ˜‚","æ€¯æ‡¦","æ…·æ…¨","è‡ªå‘","å …è²","è±ªé‚","ç¾æ¾€","æ–Ÿé…Œ","ç· é€ ",
      "è¡¡é‡","å¥‘æ©Ÿ","ç³¾è‘›","è¶¨å‹¢","æ­¸ç´","æ¼”ç¹¹","ç»ä»°","è¿½éš¨","è¬€ç•¥","å£Ÿæ–·"
    ];

    // ====== DOM ======
    const wordEl = document.getElementById("word");
    const wordBox = document.getElementById("wordBox");
    const answerEl = document.getElementById("answer");
    const msgEl = document.getElementById("msg");
    const checkBtn = document.getElementById("checkBtn");
    const nextBtn = document.getElementById("nextBtn");
    const startBtn = document.getElementById("startBtn");
    const fsBtn = document.getElementById("fsBtn");

    const idxEl = document.getElementById("idx");
    const totalEl = document.getElementById("total");
    const correctEl = document.getElementById("correct");
    const wrongEl = document.getElementById("wrong");
    const accEl = document.getElementById("acc");
    const barFill = document.getElementById("barFill");

    const endPanel = document.getElementById("endPanel");
    const endText = document.getElementById("endText");

    totalEl.textContent = vocab.length;

    // ====== State ======
    let i = 0;
    let correct = 0;
    let wrong = 0;
    let started = false;
    let locked = false; // ç­”å°å¾Œé–ä½ç›´åˆ°ä¸‹ä¸€é¡Œ
    let startTime = null;

    function normalize(s){
      return (s ?? "").replace(/\s+/g,"").trim();
    }

    function updateStats(){
      idxEl.textContent = Math.min(i+1, vocab.length);
      correctEl.textContent = correct;
      wrongEl.textContent = wrong;
      const done = correct + wrong;
      const acc = done === 0 ? 0 : Math.round((correct / done) * 100);
      accEl.textContent = acc + "%";

      const progress = Math.round(((i) / vocab.length) * 100);
      barFill.style.width = progress + "%";
    }

    function setMessage(text, type=""){
      msgEl.className = "msg" + (type ? (" " + type) : "");
      msgEl.textContent = text;
    }

    function showWord(){
      endPanel.style.display = "none";
      setMessage("");
      answerEl.value = "";
      answerEl.focus();
      locked = false;
      nextBtn.disabled = true;
      checkBtn.disabled = false;

      if (i < vocab.length){
        wordEl.textContent = vocab[i];
      }
      updateStats();
    }

    function finish(){
      const usedMs = Date.now() - startTime;
      const usedSec = Math.max(1, Math.round(usedMs/1000));
      const mm = String(Math.floor(usedSec/60)).padStart(2,"0");
      const ss = String(usedSec%60).padStart(2,"0");
      barFill.style.width = "100%";

      endPanel.style.display = "block";
      endText.innerHTML = `
        <div>ç¸½é¡Œæ•¸ï¼š${vocab.length}</div>
        <div>æ­£ç¢ºï¼š${correct}ã€€éŒ¯èª¤ï¼š${wrong}</div>
        <div>æ­£ç¢ºç‡ï¼š${accEl.textContent}</div>
        <div>å®Œæˆæ™‚é–“ï¼š${mm}:${ss}</div>
        <div style="margin-top:10px;color:rgba(255,255,255,.75);font-size:13px;">
          ä½ å¯ä»¥æŒ‰ã€Œé–‹å§‹/é‡ä¾†ã€å†ç·´ä¸€æ¬¡ã€‚
        </div>
      `;
      wordEl.textContent = "ğŸ‰ å®Œæˆ";
      checkBtn.disabled = true;
      nextBtn.disabled = true;
      answerEl.blur();
    }

    function start(){
      i = 0;
      correct = 0;
      wrong = 0;
      started = true;
      locked = false;
      startTime = Date.now();
      setMessage("é–‹å§‹ï¼çœ‹æ¸…æ¥šè©èªå¾Œè¼¸å…¥ä¸€æ¨£çš„å­—è©ã€‚");
      showWord();
    }

    function check(){
      if (!started || locked || i >= vocab.length) return;

      const target = vocab[i];
      const input = normalize(answerEl.value);

      if (!input){
        setMessage("è«‹å…ˆè¼¸å…¥è©èªã€‚", "bad");
        wordBox.classList.remove("shake"); void wordBox.offsetWidth; wordBox.classList.add("shake");
        return;
      }

      if (input === normalize(target)){
        correct++;
        locked = true;
        setMessage("âœ… æ­£ç¢ºï¼å¯ä»¥æŒ‰ã€Œä¸‹ä¸€é¡Œã€", "ok");
        nextBtn.disabled = false;
        checkBtn.disabled = true;
        updateStats();
      } else {
        wrong++;
        setMessage("âŒ ä¸å°å–”ï¼Œå†è©¦ä¸€æ¬¡ã€‚", "bad");
        wordBox.classList.remove("shake"); void wordBox.offsetWidth; wordBox.classList.add("shake");
        answerEl.value = "";
        answerEl.focus();
        updateStats();
      }
    }

    function next(){
      if (!started) return;
      if (i >= vocab.length) return;

      i++;
      if (i >= vocab.length){
        finish();
      } else {
        showWord();
      }
    }

    // ====== Events ======
    checkBtn.addEventListener("click", check);
    nextBtn.addEventListener("click", next);
    startBtn.addEventListener("click", start);

    answerEl.addEventListener("keydown", (e) => {
      if (e.key === "Enter"){
        e.preventDefault();
        if (!locked) check();
        else next();
      }
    });

    fsBtn.addEventListener("click", async () => {
      try{
        if (!document.fullscreenElement){
          await document.documentElement.requestFullscreen();
        } else {
          await document.exitFullscreen();
        }
      } catch(err){
        setMessage("æ­¤ç€è¦½å™¨ä¸æ”¯æ´å…¨è¢å¹•æˆ–è¢«é™åˆ¶ã€‚");
      }
    });

    // ====== é™åˆ¶è¤‡è£½ / è²¼ä¸Š / å³éµ ======
    document.addEventListener("contextmenu", (e) => e.preventDefault());

    const blockKeys = new Set(["c","x","v","a","p","s"]);
    document.addEventListener("keydown", (e) => {
      const k = (e.key || "").toLowerCase();
      if ((e.ctrlKey || e.metaKey) && blockKeys.has(k)){
        e.preventDefault();
        setMessage("å·²é™åˆ¶è¤‡è£½/è²¼ä¸Š/å¿«æ·éµæ“ä½œã€‚");
      }
    });

    // ç›´æ¥é˜»æ“‹ copy/cut/pasteï¼ˆå°¤å…¶è²¼ä¸Šï¼‰
    ["copy","cut","paste"].forEach(evt => {
      document.addEventListener(evt, (e) => {
        e.preventDefault();
        setMessage("å·²é™åˆ¶è¤‡è£½/è²¼ä¸Šã€‚");
      });
    });

    // åˆå§‹ç‹€æ…‹
    updateStats();
    setMessage("æŒ‰ã€Œé–‹å§‹/é‡ä¾†ã€é–‹å§‹ç·´ç¿’ã€‚");
  </script>
</body>
</html>
